import{_ as h,r as i,o as n,c as p,a as t,b as e,e as r,d as s}from"./app-2pyCoCP5.js";const d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX8AAAA9CAYAAABFo2m0AAAGxUlEQVR4Ae2dTW7kNhCF+wDe5QQBssg+F0juEOQMk50XAeZGAXISbwzEC/s8HRSQZzxXF9WUWt1qNb+FUMX6I0U+Ptdo/g5//f3v8c/ffzs+PT3xsAdgAAyAgUEwcPjn4+P4/O0PDnyQA+eHPE0OGAADgYHDR5D/8zfIH/IHA2AADAyEgf/J/5lDH+jQ6fzo/MAAGID8IX1+8IMBMDAgBiD/AQ+dro+uDwyAAcgf8qfrAwNgYEAMHN7e3o7Pz3zzpxOiEwIDYGAkDBxeXl4g/wF/6o8Ect4VUgcDpxiA/CF+fskPBsDAgBg4vL+/0/kPePB0QqedEHvCnoyEAX7DF+Kn6wMDYGBADED+Ax76SN0N70o3DwZqDED+kD9dHxgAAwNiYFXyf3193TWI9r5+Opy6w2Ff2BcwcIqBE/IPAszPnI1rEajXVL3KJt9WsrX+W61He7Jkvq3XvmTN5JxeSvaEPbkFBr6Qf0UelW1qYVPxla+yTdW/tm/N9UStufWW5PiezJ3Pc+fql6517nzEQ4pgYD0MQP7pW9/a5Ll2vR7w33LOW87V8+7ErEcO7OVj7+Un+c+5xBE7Fd/yVfbKtjXo1lzTmrXm7Mut5r3VPHPendjHJi3Od53zvTvyDzLJjx92y+f2iM9j1XC7dPkkwy49S+W0YtwvPWpIr6TmcJ9skvLlWvJXMnJk781XnKTyJWV3KV9It4fuvkt0r5vnuaQuuesQCfu4v31cRP7nDrp16Su721zXHG5zvfKHLWI8rqW38lVDfpdeq4rL/hzj/paec/L8njcVqzyPD93HOT/71vZrTS2p9WWp+Ly+PFYccn9ExJnd/syuQv5xkNXFPGer/A6Kyp9teXwu3/2uT9WJuPDnmDxWnOq6v6XnHOW27F7HY6v4KtZtrquW21xf4lfOUpnnz+Oldcm7PfGw59vv+V2RfwAiLrQ/DhK3u55jfJx1zws9+zVu+ZQfcTkmj3OM+1t6ztF6WnavsyTW811XLbe53vJHTH4Uu4bUGiTXqEmN7YmIM7j9GXySf2x+daEqW+9B5dw8bs3p9T3HdY9xvSemNz7XmjuOeTynR88559bqNRVb2Vp1Pdb1qtYSv+qsJbUGybXqUuf25MOeb7vnk+TfumBhb/n8QHNMHkes21xXHbe5XvlzPcVI9uQrtqrl+aH7uBXvMT16VUdr8vyWrYppxea5qly3ua5ct7k+Nad8S2U1z9Ja5G1LQOz/dvt/+OGnX48//vzL5+ePuFh6Wgdzzq+86pIqV1KxIWVz6f4qRn7PkS6fpOwu5atkxGW7csPuuuJkU66Ppedc2SvZqus1Ik9jxWfpteU7Z1NdxYfMORorRmNJ2deUUXvNetTajoDY++32/kvnf42D2PtF3fv6r3Gm1NzuwrL37P1aGID809/wzRsL+XPZMiYYg4lHwMDJZ59HeCnegcsJBsAAGJjGwNU7fw5g+gDYH/YHDICBLTAA+Z/57LPFoTAnZAAGwMC1MbCY/Ke+hYdvyj/1UsqVPBc75Z/yLV3fVE18XFgwAAb2goHZ5C9SbpGn213v2ZAqvrJFrbC3fFNzKW9J7lRdfFx6MAAG9oSBw/f05/x7F1+RZ6+tNcec/Iit4lu1s/2S3FyLMZceDICBvWFgduevF6zIs9emGln25itOMtfpGV+S21OfGMgADICBe8bAJ/kHGeqJBUtvkWRl77XN2ZBc08euz6mp95ubQzyXGQyAgUfBwCf5xwtlMs1jf+nK12vzOlP6uXqVf6qe+y7J9TrokAEYAAN7xMDdkn9FztmWx3MO4JLcOfMQCzGAATBwjxj4Qv6xQJGiZGvRlb/X1qope1VHawtf9Si3V7bm6M0njgsNBsDAnjFwd+Q/h5TnxOZDuiQ312IMCYABMLA3DJyQf7xADzG2Ytzuuupmm29Y5atsysm+GGebYrPsjct5jLnkYAAMPAIGZpO/CNZl3gj5eu2KU16W8ktmf4zDJ7viKqkYl1UcNi44GAADj4yBkvwf+YV5Ny40GAADYODpCPnzD7vxv2KBATAwIAYg/wEPna6HzhcMgAHIH/Kn6wMDYGBADED+Ax46XR9dHxgAA5A/5E/XBwbAwIAYgPwHPHS6Pro+MAAGIH/In64PDICBATEA+Q946HR9dH1gAAxA/pA/XR8YAAMDYgDyH/DQ6fro+sAAGID8IX+6PjAABgbEAOQ/4KHT9dH1gQEwAPlD/nR9YAAMDIgByH/AQ6fro+sDA2AA8of86frAABgYEAOQ/4CHTtdH1wcGwADkD/nT9YEBMDAgBiD/AQ+dro+uDwyAgf8Ail8uJFzbMEoAAAAASUVORK5CYII=",o="/assets/install_whtile-lD9TzAH3.png",l="/assets/w2_start-MaHNp8cs.png",c="/assets/whistle8899-Buf2MSv9.png",A="/assets/whistle_https-neyeq-J5.png",w="/assets/whistle_https2-uo8C-VoW.png",f="/assets/whistle_https3-Fl5KMMHE.png",g="/assets/whistle_rules-0F_x1xom.png",u="/assets/proxy-PFjK7g18.png",m="/assets/chrome-Y7RKLw4x.png",x="/assets/chrome2-QqXRc5lj.png",D={},_=s('<h1 id="如何使用-whistle-代理神器" tabindex="-1"><a class="header-anchor" href="#如何使用-whistle-代理神器" aria-hidden="true">#</a> 如何使用 whistle 代理神器</h1><p>【whistle 官网】http://wproxy.org/whistle/install.html</p><p>【用途】</p><ul><li>抓包、mock、修改返回数据、修改响应头字段、延迟模拟弱网等</li><li>代理转发 - 需要配置代理转发规则 <ul><li>把某环境仅前端资源的请求代理转发到本地</li><li>把某个接口地址的请求代理转发到指定的后端环境地址</li></ul></li><li>脚本注入 <ul><li>可通过拦截某页面请求，注入写好的脚本工具代码，来完成一些提效的自动化工作</li></ul></li></ul><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><h3 id="安装-node-环境" tabindex="-1"><a class="header-anchor" href="#安装-node-环境" aria-hidden="true">#</a> 安装 node 环境</h3><p>本地如果有 node 环境可跳过</p>',7),v={href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"},b=s('<p>安装完成后，可通过执行 <code>node -v</code> 来查看是否安装成功：</p><p><img src="'+d+'" alt=""></p><h3 id="安装-whistle" tabindex="-1"><a class="header-anchor" href="#安装-whistle" aria-hidden="true">#</a> 安装 whistle</h3><p>node 安装成功后，执行如下 npm 命令安装 whistle （Mac 或 Linux 的非 root 用户需要在命令行前面加 sudo，如：<code>sudo npm install -g whistle</code>）</p><p><code>npm install -g whistle</code></p><p>npm 默认镜像是在国外，有时候安装速度很慢或者出现安装不了的情况，如果无法安装或者安装很慢，可以使用 taobao 的镜像安装：</p><p><code>npm install whistle -g --registry=https://registry.npmmirror.com</code></p><p>安装完成后，可通过执行 w2 -h 来验证是否安装成功</p><p><img src="'+o+'" alt=""></p><h2 id="启用-whistle-服务" tabindex="-1"><a class="header-anchor" href="#启用-whistle-服务" aria-hidden="true">#</a> 启用 whistle 服务</h2><h3 id="启用-whislte-服务" tabindex="-1"><a class="header-anchor" href="#启用-whislte-服务" aria-hidden="true">#</a> 启用 whislte 服务</h3><p><code>w2 start</code></p><p>whistle 服务默认运行在 8899 端口，命令执行成功：</p><p><img src="'+l+'" alt=""></p><p>此时可浏览器打开 127.0.0.1:8899</p><p><img src="'+c+'" alt=""></p><h3 id="启用-https-请求的代理" tabindex="-1"><a class="header-anchor" href="#启用-https-请求的代理" aria-hidden="true">#</a> 启用 https 请求的代理</h3><p>由于默认是不对 https 请求进行处理，所以需要手动启用下 https 请求的抓包代理开关</p><p>启用完毕后，需要再重新启动下 whistle 服务才能生效： <code>w2 restart</code> （或者：<code>w2 stop</code> 之后再 <code>w2 start</code>）</p><p><img src="'+A+'" alt=""></p><h3 id="安装-https-根证书-可选" tabindex="-1"><a class="header-anchor" href="#安装-https-根证书-可选" aria-hidden="true">#</a> 安装 https 根证书（可选）</h3><p>如果你想要使用抓包功能，即查看请求体和响应体内容，那么需要本地电脑安装 whistle 的证书</p>',22),P={href:"http://wproxy.org/whistle/webui/https.html",target:"_blank",rel:"noopener noreferrer"},H=s('<p>注意是需要安装到电脑的：受信任的根证书级别才能生效</p><p><img src="'+w+'" alt=""></p><p>如果你不想用抓包功能，只是想使用代理转发功能，那可以不安装根证书</p><p><img src="'+f+'" alt=""></p><h3 id="常用的-w2-命令" tabindex="-1"><a class="header-anchor" href="#常用的-w2-命令" aria-hidden="true">#</a> 常用的 w2 命令</h3><table><thead><tr><th>- 命令-</th><th>-说明-</th></tr></thead><tbody><tr><td>- w2 start-</td><td>-启用服务-</td></tr><tr><td>- w2 stop-</td><td>-停止服务-</td></tr><tr><td>- w2 restart-</td><td>-重启服务-</td></tr></tbody></table><h2 id="配置代理规则" tabindex="-1"><a class="header-anchor" href="#配置代理规则" aria-hidden="true">#</a> 配置代理规则</h2><p>要使用代理转发功能，你需要告知 whistle，哪些请求在满足什么条件后，代理转发到哪个地址去</p><p>所以需要配置代理转发规则，举个实例</p><h3 id="把访问-10-110-12-205-环境时-所有的前端资源文件都代理转发到本地-localhost-3000-端口" tabindex="-1"><a class="header-anchor" href="#把访问-10-110-12-205-环境时-所有的前端资源文件都代理转发到本地-localhost-3000-端口" aria-hidden="true">#</a> 把访问 10.110.12.205 环境时，所有的前端资源文件都代理转发到本地 localhost:3000 端口</h3><p><img src="'+g+'" alt=""></p><h2 id="配置系统-浏览器-代理走-whistle-的-8899-端口" tabindex="-1"><a class="header-anchor" href="#配置系统-浏览器-代理走-whistle-的-8899-端口" aria-hidden="true">#</a> 配置系统(浏览器)代理走 whistle 的 8899 端口</h2><p>由于 whistle 服务是运行在 8899 端口上</p><p>因此需要让你的浏览器访问的页面请求都经过 8899 端口，这样这些请求才会被 whistle 接管处理</p><p>两种方式：直接配置系统代理、只配置浏览器的代理</p><h3 id="系统代理" tabindex="-1"><a class="header-anchor" href="#系统代理" aria-hidden="true">#</a> 系统代理</h3><p><img src="'+u+'" alt=""></p><p>不过系统代理会影响到全局，可能某些应用禁止代理，那功能就会受到影响（比如访问外网使用的云办公应用）</p><h3 id="浏览器代理" tabindex="-1"><a class="header-anchor" href="#浏览器代理" aria-hidden="true">#</a> 浏览器代理</h3><p>chrome 浏览器支持安装代理插件：SwitchyOmega</p><p>F12 - 更多工具 - 扩展程序，然后左键点击安装包拖拽到页面上来安装离线插件</p><p>插件不能安装的话，就自行去官网下载安装包</p><p><img src="'+m+'" alt=""></p><p><img src="'+x+'" alt=""></p>',24);function y(z,M){const a=i("ExternalLinkIcon");return n(),p("div",null,[_,t("p",null,[e("Windows 或 Mac 系统，访问 "),t("a",v,[e("https://nodejs.org/"),r(a)]),e("，安装 LTS 版本的 Node，默认安装即可。")]),b,t("p",null,[t("a",P,[e("http://wproxy.org/whistle/webui/https.html"),r(a)])]),H])}const X=h(D,[["render",y],["__file","index.html.vue"]]);export{X as default};
